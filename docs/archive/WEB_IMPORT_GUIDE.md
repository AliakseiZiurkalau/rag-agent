# üåç Web Import - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –û–ø–∏—Å–∞–Ω–∏–µ

Web Import –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –≤–µ–±-—Å–∞–π—Ç–æ–≤ –Ω–∞–ø—Ä—è–º—É—é –≤ RAG Agent. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç HTML, –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏ —Å–ª–µ–¥—É–µ—Ç –ø–æ —Å—Å—ã–ª–∫–∞–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–æ–º–µ–Ω–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Web Import

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí Web Import (üåç)

### 2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ

- **URL —Å–∞–π—Ç–∞**: https://example.com
- **–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): Example Site
- **–ú–∞–∫—Å–∏–º—É–º —Å—Ç—Ä–∞–Ω–∏—Ü**: 10 (1-100)

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL

–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞.

### 4. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ

–ù–∞–∂–º–∏—Ç–µ "–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã" –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∞.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–±—Ö–æ–¥
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–∞–º
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –¥–æ 100 —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ –æ–¥–∏–Ω –∏–º–ø–æ—Ä—Ç

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è:
- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–µ–Ω—é
- –§—É—Ç–µ—Ä—ã –∏ —Ö–µ–¥–µ—Ä—ã
- –ë–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏ (aside)
- JavaScript –∏ CSS –∫–æ–¥
- –†–µ–∫–ª–∞–º–Ω—ã–µ –±–ª–æ–∫–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤
- –£–¥–∞–ª—è—é—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
–î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
- URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –î–∞—Ç–∞ –∏–º–ø–æ—Ä—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–∞–π—Ç–∞–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ —Å–∞–π—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- üåç –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
- –î–∞—Ç–∞ –∏–º–ø–æ—Ä—Ç–∞

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É üóëÔ∏è —Ä—è–¥–æ–º —Å —Å–∞–π—Ç–æ–º –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## ‚öôÔ∏è API

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ URL

```bash
curl -X POST "http://localhost:8000/web/test" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com",
    "max_pages": 10,
    "site_name": "Example Site"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "message": "URL is accessible",
  "title": "Example Domain",
  "content_length": 1234
}
```

### –ò–º–ø–æ—Ä—Ç —Å—Ç—Ä–∞–Ω–∏—Ü

```bash
curl -X POST "http://localhost:8000/web/import" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com",
    "max_pages": 10,
    "site_name": "Example Site"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "message": "Imported 8 pages from Example Site",
  "imported_count": 8,
  "total_pages": 10
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞

```bash
curl -X DELETE "http://localhost:8000/websites/Example%20Site"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "message": "Website deleted (150 chunks)",
  "deleted_chunks": 150
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–∞—Ä—Å–∏–Ω–≥ HTML

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **BeautifulSoup4** –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML:

```python
from bs4 import BeautifulSoup

soup = BeautifulSoup(html, 'html.parser')

# –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
for element in soup(['script', 'style', 'nav', 'footer', 'header', 'aside']):
    element.decompose()

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
text = soup.get_text(separator='\n', strip=True)
```

### –û–±—Ö–æ–¥ —Å—Å—ã–ª–æ–∫

```python
# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
links = soup.find_all('a', href=True)

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–æ–º–µ–Ω—É
same_domain_links = [
    link for link in links 
    if urlparse(link).netloc == urlparse(base_url).netloc
]
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ ChromaDB

```python
metadata = {
    "source": f"Web: {page_title}",
    "chunk": chunk_index,
    "file_hash": page_hash,
    "web_url": page_url,
    "web_site": site_name,
    "uploaded_at": datetime.now().isoformat()
}
```

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ
- –ú–∞–∫—Å–∏–º—É–º 100 —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ –∏–º–ø–æ—Ä—Ç
- Timeout: 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- –¢–æ–ª—å–∫–æ HTTP/HTTPS –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

### –ö–æ–Ω—Ç–µ–Ω—Ç
- –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è JavaScript-–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (SPA)
- –ù–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–Ω–µ—Ç OCR)
- –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è PDF —Ñ–∞–π–ª—ã –Ω–∞ —Å–∞–π—Ç–µ
- –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –≠—Ç–∏—á–µ—Å–∫–∏–µ
- –°–æ–±–ª—é–¥–∞–π—Ç–µ robots.txt
- –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã —á–∞—Å—Ç—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –£–≤–∞–∂–∞–π—Ç–µ –∞–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–∞–≤–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "Cannot access URL"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ User-Agent
- –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ù–µ–≤–µ—Ä–Ω—ã–π URL

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å http:// –∏–ª–∏ https://
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–∞–π—Ç

### –û—à–∏–±–∫–∞: "No pages found"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–∞–π—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–æ–∫
- –í—Å–µ —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ –¥–æ–º–µ–Ω—ã
- –ö–æ–Ω—Ç–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JavaScript

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–π—Ç–∞
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ HTML —Å–∞–π—Ç—ã

### –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
- –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–∞–π—Ç
- –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –£–º–µ–Ω—å—à–∏—Ç–µ max_pages
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ —á–∞—Å—Ç—è–º
- –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∞

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
curl -X POST "http://localhost:8000/web/import" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://docs.python.org/3/",
    "max_pages": 50,
    "site_name": "Python Docs"
  }'
```

### –ë–ª–æ–≥

```bash
curl -X POST "http://localhost:8000/web/import" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://blog.example.com",
    "max_pages": 20,
    "site_name": "Example Blog"
  }'
```

### Wiki

```bash
curl -X POST "http://localhost:8000/web/import" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://en.wikipedia.org/wiki/Artificial_intelligence",
    "max_pages": 10,
    "site_name": "Wikipedia AI"
  }'
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è URL
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (http/https)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- Timeout –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∞–∫—Å–∏–º—É–º 100 —Å—Ç—Ä–∞–Ω–∏—Ü
- Timeout 30 —Å–µ–∫—É–Ω–¥
- –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

### User-Agent
```
Mozilla/5.0 (compatible; RAG-Agent/1.0)
```

## üìñ –°–º. —Ç–∞–∫–∂–µ

- [FEATURES.md](FEATURES.md) - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- [README.md](README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- [API Documentation](api/server.py) - API endpoints

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024
