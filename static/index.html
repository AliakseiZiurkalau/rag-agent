<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Agent - AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</title>
    <meta name="description" content="–õ–æ–∫–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG">
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ RAG Agent</h1>
            <p class="subtitle">AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</p>
            <div class="status-bar">
                <span id="status" class="status">‚óè</span>
                <span id="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è...</span>
                <span class="stats" id="stats"></span>
            </div>
        </header>

        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="tabs">
            <button class="tab-button active" data-tab="xwiki">üåê XWiki</button>
            <button class="tab-button" data-tab="documents">üìÑ –î–æ–∫—É–º–µ–Ω—Ç—ã</button>
            <button class="tab-button" data-tab="chat">üí¨ –ß–∞—Ç</button>
            <button class="tab-button" data-tab="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>

        <div class="main-content">
            <!-- –í–∫–ª–∞–¥–∫–∞: XWiki -->
            <div class="tab-content active" id="xwiki-tab">
                <div class="xwiki-section">
                    <h2>–ò–º–ø–æ—Ä—Ç –∏–∑ XWiki</h2>
                    
                    <div class="settings-group">
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h3>
                        <div class="form-group">
                            <label for="xwiki-url">URL XWiki:</label>
                            <input type="text" id="xwiki-url" class="form-control" placeholder="http://localhost:8080/xwiki">
                        </div>
                        <div class="form-group">
                            <label for="xwiki-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                            <input type="text" id="xwiki-username" class="form-control" placeholder="admin">
                        </div>
                        <div class="form-group">
                            <label for="xwiki-password">–ü–∞—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                            <input type="password" id="xwiki-password" class="form-control" placeholder="password">
                        </div>
                        <div class="form-group">
                            <label for="xwiki-wiki">Wiki:</label>
                            <input type="text" id="xwiki-wiki" class="form-control" value="xwiki">
                        </div>
                        <div class="form-group">
                            <label for="xwiki-space">Space (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –≤—Å–µ—Ö):</label>
                            <input type="text" id="xwiki-space" class="form-control" placeholder="Main">
                        </div>
                        
                        <div class="settings-actions">
                            <button id="test-xwiki-button" class="btn btn-secondary">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</button>
                            <button id="import-xwiki-button" class="btn btn-primary">üì• –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã</button>
                        </div>
                    </div>

                    <div id="xwiki-status" class="settings-status"></div>
                    
                    <div id="xwiki-spaces" class="xwiki-spaces" style="display: none;">
                        <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:</h3>
                        <ul id="xwiki-spaces-list"></ul>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –î–æ–∫—É–º–µ–Ω—Ç—ã -->
            <div class="tab-content" id="documents-tab">
                <div class="upload-section">
                    <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h2>
                    <div class="upload-area" id="upload-area">
                        <input type="file" id="file-input" accept=".pdf,.docx,.xlsx,.xls" hidden>
                        <div class="upload-content">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ <span class="link">–≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</span></p>
                            <small>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è PDF, DOCX –∏ Excel —Ñ–∞–π–ª—ã (–º–∞–∫—Å. 10MB)</small>
                        </div>
                    </div>
                    <div id="upload-status" class="upload-status"></div>
                </div>

                <div class="documents-list-section">
                    <div class="section-header">
                        <h2>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</h2>
                        <button id="clear-docs-button" class="clear-button">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
                    </div>
                    <div id="documents-list" class="documents-list">
                        <p class="empty-message">–î–æ–∫—É–º–µ–Ω—Ç—ã –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</p>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ß–∞—Ç -->
            <div class="tab-content" id="chat-tab">
                <div class="chat-section">
                    <div class="section-header">
                        <h2>–ß–∞—Ç —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º</h2>
                        <button id="clear-chat-button" class="clear-button">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç</button>
                    </div>
                    <div class="chat-container" id="chat-container">
                        <div class="welcome-message">
                            <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
                            <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã. –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.</p>
                        </div>
                    </div>
                    <div class="input-container">
                        <textarea 
                            id="question-input" 
                            placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..."
                            rows="1"
                        ></textarea>
                        <button id="send-button" class="send-button" disabled>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="tab-content" id="settings-tab">
                <div class="settings-section">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                    
                    <div class="settings-group">
                        <h3>–ú–æ–¥–µ–ª—å Ollama</h3>
                        <div class="form-group">
                            <label for="model-select">–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏:</label>
                            <select id="model-select" class="form-control">
                                <option value="llama3.2:1b">llama3.2:1b (–±—ã—Å—Ç—Ä–∞—è)</option>
                                <option value="llama3.2:3b">llama3.2:3b (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="model-status">–°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–∏:</label>
                            <div id="model-status" class="status-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h3>
                        <div class="form-group">
                            <label for="temperature">Temperature: <span id="temperature-value">0.1</span></label>
                            <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.1" class="slider">
                            <small>–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ (0 = –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, 1 = –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π)</small>
                        </div>
                        <div class="form-group">
                            <label for="num-predict">–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç–≤–µ—Ç–∞: <span id="num-predict-value">80</span></label>
                            <input type="range" id="num-predict" min="50" max="500" step="10" value="80" class="slider">
                            <small>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞</small>
                        </div>
                        <div class="form-group">
                            <label for="num-ctx">–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: <span id="num-ctx-value">512</span></label>
                            <input type="range" id="num-ctx" min="256" max="4096" step="256" value="512" class="slider">
                            <small>–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞</small>
                        </div>
                        <div class="form-group">
                            <label for="context-length">–î–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞: <span id="context-length-value">300</span></label>
                            <input type="range" id="context-length" min="100" max="1000" step="50" value="300" class="slider">
                            <small>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</small>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button id="save-settings-button" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                        <button id="reset-settings-button" class="btn btn-secondary">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                    </div>

                    <div id="settings-status" class="settings-status"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/app.js?v=11"></script>
</body>
</html>
